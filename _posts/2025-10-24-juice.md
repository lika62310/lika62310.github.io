---
title: "Forsøg med OWASP Juice Shop"
date: 2025-10-24
tags: [cybersecurity]
---

[OWASPs Juice Shop](https://owasp.org/www-project-juice-shop/) er en web-app med indbyggede sårbarheder og usikkerheder designet til at træne og teste websikkerhed. Blandt usikkerheder indgår blandt andet samtlige fra OWASP Top 10.

For at komme i gang med Juice Shop, har jeg hentet et [docker image] af applikationen ved docker pull bkimminich/juice-shop og kørt den ved docker run --rm -p 3000:3000 bkimminich/juice-shop, hvorefter den er at finde på http://localhost:3000. 

### Udfordringer
Den første udfordring som mødes på siden er at finde scoreboardet, hvilket kan gøres ved at inspicere filstierne og gætte efter mulige stier. Som ses findes scoreboardet ved /score-board, der ligesom andre to-ords-stier på siden er delt med '-', hvorfra videre udfordringer kan findes. 
<img width="1546" height="785" alt="image" src="https://github.com/user-attachments/assets/6018f999-49e2-47bf-a572-ff4ea0c2f2d5" />

#### XSS
Se også [OWASP Top 10 Injection](https://lika62310.github.io/2025/10/06/owasp.html). Ved cross-site scripting injekteres kode i inputfelter, typisk med manglende inputvalidering. Blandt opgaver med XXS-angreb på siden ses f.eks. DOM XSS-opgaven, hvor indsættelse af kodestykket <iframe src="javascript:alert(`xss`)"> i et felt hvis indhold vises i HTML'en vil give en pop-up alert, mens der i Bonus Payload-opgaven embeddes en sang fra Soundcloud. Mens ingen af disse er ondsindende eller gør nogen rigtig skade, viser de stadig at en sårbarbed findes i applikationen som kan udnyttes. Dette kunne udrettes ved inputvalidering, f.eks. at escape '<'-tegn.
<img width="927" height="319" alt="image" src="https://github.com/user-attachments/assets/a0922e24-97a4-4d97-b0be-d660f2b7fb39" />

#### Datasikkerhed & sikkerhedsmiskonfiguration
Ved opgaverne Confidential Document og Exposed Metrics afsløres sårbarheder i datasikkerhed og adgangskontrol; filer kan findes under /ftp uden adgangsbegrænsning, hvorfor det er muligt direkte at tilgå de fortrolige filer (her kan der desuden ved at åbne en fil med en anden forlængelse en .md eller .pdf udløses en fejl, som ikke håndteres ordentligt; disse fejlmeddelser kan risikere at give unødig information til evt. angribere). Metrics findes forudsigeligt nok ved /metrics, som desuden er standardstien for metrics ved f.eks. mange overvågningprogrammer som Prometheus. Filerne nu fundet under /ftp burde ligge i mere passende mapper, og evt. fortrolige filer burde ikke være tilgængelige uden adgangskontrol. 
<img width="787" height="220" alt="image" src="https://github.com/user-attachments/assets/d1f3b976-43e4-44ff-b2cd-6c36535b8275" />

#### Utilstrækkelig inputvalidering 
Opaven Missing Encoding refererer til et billede som ikke vises ordentligt på Photo Wall-siden. Her vil en inspektion af siden vise billedekilden, hvor det kan ses at '#' i linket ikke er escapet; dette gøres med %23 (fundet fra URL encoding table [her](https://www.w3schools.com/tags//ref_urlencode.asp)) og billedet vises nu.

<img width="50%" alt="image" src="https://github.com/user-attachments/assets/a36b7a82-ce7e-4ef1-8eaf-cad75c8e7be9" />

<img width="48.7%" alt="image" src="https://github.com/user-attachments/assets/4732e07a-9f71-43d9-9796-f9e7fb1af8a5" /><img width="48%" alt="image" src="https://github.com/user-attachments/assets/94d6fb1c-4eea-4e5e-b807-3e5679e1ae78" />
